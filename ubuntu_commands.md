# Команды Ubuntu для поиска по содержимому файлов

## Основные команды поиска

### 1. grep - поиск текста в файлах
```bash
# Поиск строки "текст" в файле
grep "текст" filename.txt

# Поиск в нескольких файлах
grep "текст" *.txt

# Поиск во всех файлах рекурсивно
grep -r "текст" /path/to/directory

# Поиск без учета регистра
grep -i "текст" filename.txt

# Показать только имена файлов с совпадениями
grep -l "текст" *.txt

# Поиск с номером строки
grep -n "текст" filename.txt
```

### 2. find + grep - поиск файлов и содержимого
```bash
# Найти все .txt файлы и искать в них текст
find . -name "*.txt" -exec grep "текст" {} \;

# Поиск в файлах по расширению
find . -type f -name "*.php" -exec grep -l "function" {} \;
```

### 3. ack - современная альтернатива grep
```bash
# Установка ack
sudo apt install ack

# Поиск текста
ack "текст"

# Поиск только в определенных типах файлов
ack "текст" --php
ack "текст" --js
```

### 4. ripgrep (rg) - быстрый поиск
```bash
# Установка ripgrep
sudo apt install ripgrep

# Поиск текста
rg "текст"

# Поиск в определенных типах файлов
rg "текст" -t php
rg "текст" -t js
```

### 5. sed - поиск и замена
```bash
# Поиск строк с текстом
sed -n '/текст/p' filename.txt

# Замена текста
sed 's/старый_текст/новый_текст/g' filename.txt
```

### 6. awk - поиск и обработка
```bash
# Поиск строк с текстом
awk '/текст/' filename.txt

# Поиск в определенном поле
awk '$2 ~ /текст/' filename.txt
```

## Примеры использования

### Поиск в логах
```bash
# Поиск ошибок в логах
grep -i "error" /var/log/*.log

# Поиск по дате
grep "2024-09-10" /var/log/application.log
```

### Поиск в коде
```bash
# Поиск функции в PHP файлах
grep -r "function myFunction" . --include="*.php"

# Поиск переменной в JavaScript
grep -r "var myVariable" . --include="*.js"
```

### Поиск конфигурации
```bash
# Поиск настроек в конфиг файлах
grep -r "database" /etc/ --include="*.conf"

# Поиск переменных окружения
grep -r "export" ~/.bashrc
```

## Полезные флаги grep
- `-r` или `-R` - рекурсивный поиск
- `-i` - игнорировать регистр
- `-n` - показать номера строк
- `-l` - показать только имена файлов
- `-v` - инвертировать поиск (показать строки БЕЗ текста)
- `-A n` - показать n строк после совпадения
- `-B n` - показать n строк до совпадения
- `-C n` - показать n строк до и после совпадения
